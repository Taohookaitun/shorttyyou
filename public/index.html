<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>  
        Shortty You!
    </title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
</head>

<body>
    <img src="3.png" alt="image error">
    <header>
            <ul>
                <p>          
                    <h2>EASY TO GENERATE</h2>
                    <sup><span style="white-space: nowrap;">
                        <h6>Shorten Your Links, QR Codes Made Simple, Share with Ease</h6>
                    </span></sup></p>
            </ul>
    </header>
    <main>
        <div class="tabs">
            <button class="tab-button active" onclick="openTab('shorturl')">Short URL</button>
            <button class="tab-button" onclick="openTab('table_statisticsurl')">Statistics Short URL</button>

        </div>
        
        
        <div class="tab-content" id="shorturl" >
            <h1>Short URL</h1>
            <!--ส่วนของ Short URL -->
<!-- เปลี่ยน URL จาก file:// เป็น http://localhost:3000 -->
            <form class="search-container" method="POST" action="http://localhost:3000/shorten">
                <input type="text" class="search-box" id="short-text" name="originalUrl" placeholder="www.original_url.com">
                <input type="text" id="shortened-link" class="readonly" placeholder="Shorted URL"readonly>
                <p id="warning-message" style="color: red;"></p>
                <button class="search-button" type="button" id="shorten">Shorten</button>
                <div id="qrcode-container" style="display: none;">
    <h2>QR Code</h2>
    <div id="qrcode"></div>
</div>
<button class="search-button" id="qr">Make QR Code</button>
                <button class="search-button" id="qr">Make Qrcode from Short Url</button>   
                <div class="share-box">
                    <div class="social-icons">
                        <!-- เพิ่มไอคอนโซเชียลมีเดียต่าง ๆ ที่คุณต้องการแชร์ -->
                        <!-- ตัวอย่าง: -->
                        <a href="#" class="social-icon">Facebook</a>
                        <a href="#" class="social-icon">Twitter</a>
                    </div>
                </div>
                          
            </form>
            
        <script>
            const originalUrlInput = document.getElementById("short-text");
            const shortenedLinkInput = document.getElementById("shortened-link");
            const shortenButton = document.getElementById("shorten");
            const warningMessage = document.getElementById("warning-message");

        
            shortenButton.addEventListener("click", async () => {
    const originalUrl = originalUrlInput.value;

    if (originalUrl.length === 0) {
        warningMessage.textContent = 'Please enter URL.';
    } else {
        const response = await fetch("/shorten", {
            method: "POST",
            body: JSON.stringify({ originalUrl }),
            headers: {
                "Content-Type": "application/json",
            },
        });

        if (response.ok) {
            const data = await response.json();
            shortenedLinkInput.value = data.shortenedUrl;
            warningMessage.textContent = '';
        } else {
            warningMessage.textContent = 'Please try again.';
        }
    }
});

        </script>

        <div class="tab-content" id="table_statisticsurl" >
            <h1>Statistics Short URL</h1>
                <div class="search-container">
                    <table border="1">
                    <tr> <!-- แถวหัวตาราง -->
                        <th>No.</th>
                        <th>Original URL</th>
                        <th>Short URL</th>
                    </tr>
                        <tr> <!-- แถวข้อมูล 1 -->
                        <td></td>
                        <td></td>
                        <td></td>
                        </tr>
                    <tr> <!-- แถวข้อมูล 2 -->
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <!-- เพิ่มแถวข้อมูลเพิ่มเติมได้ตามต้องการ -->
                    </table>
                </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2023 My Website</p>
    </footer>
    <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
    <script src="conn.js"></script>
    <script src="server.js"></script>
</body>
</html>